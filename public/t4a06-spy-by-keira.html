<h5 style="color: FloralWhite">version 0.0.1-35</h5>
<head>
  <title>Spy</title>
  <style>
    body {background-color: Indigo;}
  </style>
</head>
<p style="border-top: 2px FloralWhite"></p>
<h1 align=center style="color: FloralWhite">t4a06: spy</h1>
<p style="border-bottom: 2px FloralWhite"></p><br>

<textarea id="inputArea" rows="4" cols="70">Hello how are you</textarea><br>

<input type="button" value="Base64 Encrypt" onclick="base64Encrypt()">

<input type="button" value="! Encrypt" onclick="encrypt()"><br><br>

<textarea id="outputArea" rows="4" cols="70"></textarea><br>

<input type="button" value="Base64 Decrypt" onclick="base64Decrypt()">

<input type="button" value="! Decrypt" onclick="decrypt()"><br><br>

<script>
  const inputArea = document.getElementById('inputArea');
  const outputArea = document.getElementById('outputArea');

  function base64Encrypt() {
    const inputValue = inputArea.value;
    const base64Value = btoa(inputValue);
    outputArea.innerHTML = base64Value;
  }

  function encrypt() {
    const inputValue = inputArea.value.toLowerCase().split('');
    let outputValue = '';
    for (let i = 0; i < inputValue.length; i++) {
      let charCode = inputValue[i].charCodeAt(0);
      if (charCode >= 97 && charCode <= 122) { // lowercase letters
        outputValue += String.fromCharCode((charCode - 97 + 1) % 26 + 97); // shift by 1, wrap around
      } else if (charCode >= 48 && charCode <= 57) { // numeric characters
        outputValue += String.fromCharCode((charCode - 48 + 1) % 10 + 48); // shift by 1, wrap around
      } else { // special characters
        outputValue += String.fromCharCode((charCode - 33 + 1) % 15 + 33); // shift by 1, wrap around
      }
    }
    outputArea.value = outputValue;
  }

  function base64Decrypt() {
    const inputValue = outputArea.value;
    const decodedValue = atob(inputValue);
    inputArea.value = decodedValue;
  }

  function decrypt() {
    const inputValue = outputArea.value.toLowerCase().split('');
    let outputValue = '';
    for (let i = 0; i < inputValue.length; i++) {
      let charCode = inputValue[i].charCodeAt(0);
      if (charCode >= 97 && charCode <= 122) { // lowercase letters
        outputValue += String.fromCharCode((charCode - 97 + 25) % 26 + 97); // shift by -1, wrap around
      } else if (charCode >= 48 && charCode <= 57) { // numeric characters
        outputValue += String.fromCharCode((charCode - 48 + 9) % 10 + 48); // shift by -1, wrap around
      } else { // special characters
        outputValue += String.fromCharCode((charCode - 33 + 14) % 15 + 33); // shift by -1, wrap around
      }
    }
    inputArea.value = outputValue;
  }
</script>
