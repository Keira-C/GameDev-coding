<!DOCTYPE html>
<html>
   version 0.0.1-14
<head>
<title>LEVEL 02</title>
<style>
   body {
      background-color: black;
      color: gold;
   }
   input[type=text] {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      box-sizing: border-box;
      border: 4px solid white;
      background-color: gold;
      color: black;
   }
   input[type=button] {
      display: inline-block;
      padding: 10px 20px;
      font-size: 14px;
      background-color: darkorange;
      color: #fff;
      border-radius: 5px;  
   }
   img.move {
      position: relative;
   }
</style>
</head>
<body id="myBody" style="background-repeat: repeat; background-size: 80%" background="myBackground02.jpg" onkeydown="document.all.myText01.value = event.key;
   if (event.key == 'd') {
      document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 10 + 'px';
   }   
   if (event.key == 's') {
      document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) + 10 + 'px';
   }  
   if (event.key == 'w') {
      document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) - 10 + 'px';
   }
   if (event.key == 'a') {
      document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) - 10 + 'px';
   }
   myCheckHit();">
<h1 align="center" style="font-family: 'Lucida Console', 'Courier New', monospace;">LEVEL 02</h1>
<input type="button" value="START" onclick="clearInterval(myClock);
   let myTemp = '100px 0px';
   myClock = setInterval(function() {
      myGlobalX -= 10;
      myTemp = myGlobalX + 'px 0px';
      document.getElementById('myBody').style.backgroundPosition = myTemp;
   }, 100);">
<input type="button" value="PAUSE" onclick="clearInterval(myClock); myClock = null;">
<input type="button" value="Left" onclick="document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) - 10 + 'px'; myCheckHit();">
<input type="button" value="Right" onclick="document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 10 + 'px'; myCheckHit();">
<input type="button" value="Down" onclick="document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) + 10 + 'px'; myCheckHit();">
<input type="button" value="Up" onclick="document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) - 10 + 'px'; myCheckHit();"><br>
<input id="myText01" type="text" value="" size="50" placeholder="Feedback here"><br>
<img id="myImg01" src="myRocket01.png" style="position:absolute; width:100px; height:80px; left: 50px; top:190px;">
<img class="move" id="myImg02" src="myAsteroid01.png" style="position:absolute; width:100px; height:80px; left:350px; top:190px;">
<img id="myImg03" src="myAsteroid01.png" style="position:absolute; width:100px; height:80px; left:500px; top:390px;">
<img id="myImg04" src="myAsteroid01.png" style="position:absolute; width:100px; height:80px; left:350px; top:490px;">
<img class="move" id="myImg05" src="myAsteroid02.png" style="position:absolute; width:100px; height:80px; left:650px; top:600px;">
<img id="myImg06" src="myAsteroid02.png" style="position:absolute; width:100px; height:80px; left:720px; top:390px;">
<img id="myImg08" src="myAsteroid02.png" style="position:absolute; width:70px; height:70px; left:1350px; top:390px;">
<img id="myImg07" src="myPlanetImg01.png" style="position:absolute; width:100px; height:100px; left:1400px; top:400px;">
<script>
   let myGlobalX = 0;
   let myClock;
   let myScore = 10;

   function myHitOther(my1, my2) {
      const element1 = document.getElementById(my1);
      const element2 = document.getElementById(my2);
      const left1 = parseInt(element1.style.left);
      const right1 = left1 + parseInt(element1.style.width);
      const top1 = parseInt(element1.style.top);
      const bottom1 = top1 + parseInt(element1.style.height);
      const left2 = parseInt(element2.style.left);
      const right2 = left2 + parseInt(element2.style.width);
      const top2 = parseInt(element2.style.top);
      const bottom2 = top2 + parseInt(element2.style.height);
      return (
         right1 >= left2 &&
         bottom1 >= top2 &&
         left1 <= right2 &&
         top1 <= bottom2
      );
   }

   function myCheckHit() {
      document.getElementById('myText01').value = myScore; // show the present score

      if (myHitOther('myImg01', 'myImg02')) {
         document.getElementById('myImg01').style.left = '20px';
         document.getElementById('myText01').value = 'You hit an asteroid';
         myScore -= 1;
      }

      if (myHitOther('myImg01', 'myImg03')) {
         document.getElementById('myImg01').style.left = '20px';
         document.getElementById('myText01').value = 'You hit an asteroid';
         myScore -= 1;
      }
      if (myHitOther('myImg01', 'myImg04')) {
         document.getElementById('myImg01').style.left = '20px';
         document.getElementById('myText01').value = 'You hit an asteroid';
         myScore -= 1;
      }
      if (myHitOther('myImg01', 'myImg05')) {
         document.getElementById('myImg01').style.left = '20px';
         document.getElementById('myText01').value = 'You hit an asteroid';
         myScore -= 1;
      }
      if (myHitOther('myImg01', 'myImg06')) {
         document.getElementById('myImg01').style.left = '20px';
         document.getElementById('myText01').value = 'You hit an asteroid';
         myScore -= 1;
      }

      // you LOSE refresh the page
      if (myScore <= 0) {
         document.getElementById('myText01').value = 'Score at zero!';
         alert('Sorry you lose');
         location.reload();
      }

      // YOU WIN and go to the next level!
      if (myHitOther('myImg01', 'myImg07')) {
         document.getElementById('myText01').value = 'You landed on the planet!';
         alert('Next level');
         document.getElementById('myImg01').style.left = '20px';
         location = 'https://www.google.ca';
      }
   }

   function myMoveAsteroids() {
      const img = $('.move');
      const width = img.width();
      const screenWidth = $(window).width();
      img.css('left', -width).animate(
         {
            left: screenWidth,
         },
         4000,
         myMoveAsteroids
      );
   }
</script>
</body>
